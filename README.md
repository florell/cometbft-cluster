`tendermint-cluster` — пример кластера на основе [CometBFT](https://cometbft.com/) с интеграцией собственного ABCI-приложения для управления версионируемыми конфигами. Приложение разворачивается в Kubernetes с помощью Minikube и автоматизированных скриптов.

---

## Структура

- **main.go** — ABCI-приложение на Go, позволяющее публиковать новые версии конфигов и откатываться к предыдущим.
- **k8s/** — Kubernetes-манифесты для StatefulSet, сервисов и rpc-gateway.
- **config/** — автоматически генерируемые конфиги для всех нод.
- **generate-configs.sh** — генерация и настройка конфигов нод с помощью Docker.
- **mount.sh / cleanup.sh** — утилиты для монтирования конфигов и быстрой очистки окружения.
- **start-cluster.sh / stop-cluster.sh** — управление окружением Colima и Minikube.
- **deploy.sh** — автоматизация деплоя всех компонентов.

---

## Основные шаги

1. **Запуск окружения:**
    ```bash
    ./start-cluster.sh
    ```

2. **Генерация конфигов:**
    ```bash
    ./generate-configs.sh
    ```

3. **Монтирование конфигов в Minikube:**
    ```bash
    ./mount.sh
    ```

4. **Деплой кластера и сервисов:**
    ```bash
    ./deploy.sh
    ```

5. **Очистка:**
    ```bash
    ./cleanup.sh
    ```

6. **Остановка окружения:**
    ```bash
    ./stop-cluster.sh
    ```

---

## ABCI-приложение

- **Возможности:**  
  - Публикация новых версий конфига (`PUBLISH_CONFIG`)
  - Откат к предыдущей версии (`REVERT_CONFIG`)
  - Получение текущего состояния через ABCI Query

- **Порт:**  
  `tcp://0.0.0.0:26658`

---

## Требования

- Docker
- Minikube
- Colima (опционально, для запуска на ARM)
- Bash

---

## Лицензия

MIT

---
